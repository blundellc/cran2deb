#!/usr/bin/env r
library(cran2deb)
library(ctv)
#mirror <- 'http://cran.uk.r-project.org/'
mirror <- 'http://cran.r-project.org/'
message('updating list of available R packages...')
available <- available.packages(contrib.url(mirror))
available <- rbind(available,available.packages(contrib.url('http://www.bioconductor.org/')))
message('updating list of available R task views...')
ctv.available <- available.views(repo=mirror)
save(available, ctv.available, file=file.path(argv[1],'R/sysdata.rda'),eval.promises=T)
